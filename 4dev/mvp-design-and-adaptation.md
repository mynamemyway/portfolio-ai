0. Переключение настройки в app/config.py для отображения сообщения нейросети в чате в виде блока кода или в виде обычного текста (formatted_response = f"```\n{safe_response}\n```")

### Отчет: Реализация форматирования MarkdownV2

**1. Задача**

Реализовать возможность отправки ответов от LLM в виде форматированного текста (`MarkdownV2`), управляемую через настройку `RESPONSE_AS_CODE_BLOCK=False`.

**2. Проблема**

Прямая отправка текста, сгенерированного LLM, вызывала постоянные ошибки `TelegramBadRequest`. Причина — фундаментальное несоответствие между общепринятым Markdown (от LLM) и строгим, специфическим "диалектом" `MarkdownV2`, который требует Telegram Bot API. API считает множество обычных символов (`-`, `!`, `(`, `#` и др.) зарезервированными и требует их обязательного экранирования.

**3. Решение: Проактивный Санитайзер**

После нескольких итераций (включая неэффективное "реактивное лечение" текста) был разработан **проактивный санитайзер** — функция `sanitize_for_telegram_markdown`.

*   **Принцип работы:** Функция обрабатывает текст от LLM **перед** отправкой, преобразуя его в валидный для Telegram API "диалект".

*   **Метод:** Применена **построчная обработка** для сохранения структуры документа, включая пустые строки и отступы.

*   **Ключевые трансформации:**
    1.  **Заголовки (`###`):** Преобразуются в жирный текст (`*Title*`).
    2.  **Заголовки списков (`- **Header**`):** Преобразуются в жирный текст (`**Header**`), удаляя маркер списка.
    3.  **Элементы списков (`- Item`):** Преобразуются в безопасный формат с маркером `•`, сохраняя иерархию.
    4.  **Синтаксис жирного текста:** Приводится к формату, валидному для API (`**text**` -> `*text*`).
    5.  **Финальное экранирование:** Все остальные известные спецсимволы (`.`, `!`, `(`, `)`, `+`, `-` и др.) надежно экранируются.

*   **Отказоустойчивость:** Механизм `try...except` сохранен как финальный рубеж обороны на случай появления непредвиденных синтаксических конструкций.

**Итог:** Создан надежный механизм, который обеспечивает стабильную отправку отформатированных сообщений, решая проблему в корне, а не борясь с ее симптомами.



1. Добавить интерактивное меню в чат: контакты, ссылка на гит, проекты
 Добавь кнопки (inline или обычные): например, `/projects`, `/skills`, `/contact` — это улучшит UX.
 Добавить фото к приветствию

2. Отредактироварь файлы базы знаний:
 app/knowledge_base/prime_networking_my_portfolio_project_README.md

3. Развернуть бота на рендер или своём сервере


Дополнительно:
 Добавить сбор статистики: сколько пользователей, какие вопросы популярны и т.д.