# PR: Fix & Refactor: Logging and Response Formatting (v0.3.1)

## Описание
Этот пулл-реквест вносит два ключевых улучшения, направленных на повышение стабильности логирования и улучшение пользовательского опыта (UX).

## 1. Устранение ошибок телеметрии ChromaDB

*   **Проблема:** В логах приложения постоянно появлялись ошибки от модуля телеметрии ChromaDB (`chromadb.telemetry.product.posthog`), не влияющие на основную функциональность, но создающие информационный шум и затрудняющие отладку.
    ```
    ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event ClientCreateCollectionEvent: capture() takes 1 positional argument but 3 were given
    ERROR:chromadb.telemetry.product.posthog:Failed to send telemetry event ClientStartEvent: capture() takes 1 positional argument but 3 were given
    ```
*   **Решение:** В `main.py` реализован кастомный фильтр логирования `TelemetryFilter`. Этот фильтр применен к корневому логгеру и отсекает все сообщения, поступающие от `chromadb.telemetry.product.posthog`, что обеспечивает чистоту логов без отключения полезных сообщений от других модулей.

## 2. Стилизация ответов бота

*   **Проблема:** Ответы бота отправлялись в виде простого текста, что могло приводить к проблемам с форматированием и снижало читабельность.
*   **Решение:** В обработчике `handle_message` (`main.py`) все ответы от AI теперь оборачиваются в блок кода MarkdownV2 (` ```...``` `). Дополнительно реализована санация ответа для предотвращения конфликтов форматирования, если сам AI-ответ содержит блоки кода. Это стандартизирует внешний вид сообщений и улучшает их восприятие пользователем.

### Release v0.3.1: Logging & UX Improvements

Этот патч-релиз сфокусирован на повышении стабильности логирования и улучшении пользовательского опыта (UX) через стандартизацию форматирования ответов.

#### Основные изменения:

*   **Стабилизация логирования (`main.py`):**
    *   **Проблема:** Постоянные некритичные ошибки от модуля телеметрии ChromaDB (`chromadb.telemetry.product.posthog`) создавали информационный шум в логах.
    *   **Решение:** Реализован и применен кастомный фильтр `TelemetryFilter`, который отсекает данные сообщения на уровне корневого логгера. Это обеспечивает чистоту логов для эффективного мониторинга и отладки, не затрагивая другие важные сообщения.

*   **Улучшение форматирования ответов (`main.py`):**
    *   **Проблема:** Ответы в виде простого текста могли некорректно отображаться и были сложны для восприятия.
    *   **Решение:** Все ответы от AI теперь оборачиваются в блок кода `MarkdownV2`. Это гарантирует унифицированное и читабельное представление информации, а также предотвращает ошибки рендеринга в клиенте Telegram.
