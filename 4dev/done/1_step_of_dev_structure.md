# План Реализации: Шаг 1 - Подготовка Проекта и Безопасность

## Введение
Этот план описывает последовательность действий для настройки начальной структуры проекта, управления зависимостями и обеспечения безопасного хранения учетных данных. Этот основополагающий шаг имеет решающее значение для создания чистой, воспроизводимой и безопасной среды разработки.

---

### **Этап 1: Структура Проекта и Контроль Версий**

На этом этапе мы закладываем фундамент проекта, определяя, где и как будут храниться файлы.

#### **1.1. Создание Структуры Директорий**
*   **Цель:** Создать логическую структуру папок для разделения кода, конфигурации и данных.
*   **Действия:**
    *   Создать корневую директорию проекта `Portfolio-AI/`.
    *   Создать директорию `app/` для основного кода приложения. Внутри нее:
        *   `core/` для ключевой бизнес-логики (`config.py`, `rag.py`).
        *   `knowledge_base/` для хранения исходных документов.
        *   `main.py` как точка входа для Telegram-бота.
    *   Создать ключевые файлы и директории в корне проекта: `.env`, `.gitignore`, `requirements.txt`, `README.md`.

```text
Portfolio-AI/
├── app/
│   ├── core/
│   │   ├── config.py     # Управление конфигурацией и API-ключами
│   │   └── rag.py        # Логика создания и индексации базы знаний (RAG)
│   ├── knowledge_base/   # Исходные документы для базы знаний (.md)
│   └── main.py           # Точка входа для Telegram-бота (будет создана)
├── chroma_db/            # Локальное хранилище векторов ChromaDB
├── .env                  # Файл с секретными ключами (не отслеживается Git)
├── .gitignore
├── README.md
└── requirements.txt
```

#### **1.2. Инициализация Git и `.gitignore`**
*   **Цель:** Настроить систему контроля версий и определить файлы, которые не должны отслеживаться.
*   **Действия:**
    *   Инициализировать Git-репозиторий в корневой директории (`git init`).
    *   Создать файл `.gitignore`.
    *   Добавить в `.gitignore` записи для исключения:
        *   Файлов с переменными окружения (`.env`).
        *   Директорий виртуального окружения (`venv/`, `__pycache__/`).
        *   Локальных баз данных (`chroma_db/`, `*.sqlite3`).
        *   Специфичных для ОС файлов (`.DS_Store`).

---

### **Этап 2: Управление Зависимостями и Конфигурацией**

На этом этапе мы настраиваем изолированное окружение и механизм безопасной работы с API-ключами.

#### **2.1. Настройка Виртуального Окружения и Зависимостей**
*   **Цель:** Изолировать зависимости проекта от системного Python.
*   **Действия:**
    *   Создать виртуальное окружение (`python3 -m venv venv`).
    *   Создать файл `requirements.txt` и перечислить в нем все необходимые библиотеки (`aiogram`, `langchain`, `python-dotenv`, `pydantic-settings` и др.).
    *   Установить зависимости в активированное виртуальное окружение (`pip install -r requirements.txt`).

#### **2.2. Реализация Безопасной Конфигурации**
*   **Цель:** Создать механизм для загрузки секретных ключей из переменных окружения, избегая их жесткого кодирования в коде.
*   **Файл:** `app/core/config.py`
*   **Логика:**
    1.  Использовать `pydantic-settings` для создания класса `Settings`.
    2.  В классе `Settings` определить поля для `BOT_TOKEN` и `MISTRAL_API_KEY`. Pydantic автоматически загрузит их значения из файла `.env`.
    3.  Создать экземпляр `settings = Settings()` для использования во всем приложении.
    4.  Создать файл `.env` в корне проекта для локального хранения ключей.
